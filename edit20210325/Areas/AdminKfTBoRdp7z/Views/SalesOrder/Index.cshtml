@model IEnumerable<edit20210325.ViewModels.MarkSalesOrderModel>
@{
    var pathName = edit20210325.Function.ProjectSet.AdminName;
}
@{
    ViewData["Title"] = "製成品總表";
    ViewData["ＰageCtrl"] = "1";
}

<h1>製成品總表</h1>
<h4>查詢條件</h4>
<form class="form-inline  " role="form">
    <div class="form-group m-0 p-0 mr-auto">
        <label for="searchSelect">搜尋欄位:&ensp;</label>
        <select Name="searchSelect" id="searchSelectId" onchange="searchSelectFunc()">
            @if ((string)ViewData["searchSelect"] == "1")
            {
                <option value="1" selected>@Html.DisplayNameFor(model => model.MemberEmail)</option>
            }
            else
            {
                <option value="1">@Html.DisplayNameFor(model => model.MemberEmail)</option>
            }
            @if ((string)ViewData["searchSelect"] == "2")
            {
                <option value="2" selected>@Html.DisplayNameFor(model => model.MemberName)</option>
            }
            else
            {
                <option value="2">@Html.DisplayNameFor(model => model.MemberName)</option>
            }
            @if ((string)ViewData["searchSelect"] == "3")
            {
                <option value="3" selected>@Html.DisplayNameFor(model => model.ProductName)</option>
            }
            else
            {
                <option value="3">@Html.DisplayNameFor(model => model.ProductName)</option>
            }
            @if ((string)ViewData["searchSelect"] == "4")
            {
                <option value="6" selected>@Html.DisplayNameFor(model => model.ProductInfo)</option>

            }
            else
            {
                <option value="6">@Html.DisplayNameFor(model => model.ProductInfo)</option>

            }
            @if ((string)ViewData["searchSelect"] == "5")
            {
                <option value="5" selected>@Html.DisplayNameFor(model => model.ProductCharge)</option>

            }
            else
            {
                <option value="5">@Html.DisplayNameFor(model => model.ProductCharge)</option>

            }
            @if ((string)ViewData["searchSelect"] == "6")
            {
                <option value="6" selected>@Html.DisplayNameFor(model => model.ProductCounts)</option>

            }
            else
            {
                <option value="6">@Html.DisplayNameFor(model => model.ProductCounts)</option>

            }
            @if ((string)ViewData["searchSelect"] == "7")
            {
                <option value="7" selected>@Html.DisplayNameFor(model => model.ProductUnitDays)</option>

            }
            else
            {
                <option value="7">@Html.DisplayNameFor(model => model.ProductUnitDays)</option>

            }
            @if ((string)ViewData["searchSelect"] == "8")
            {
                <option value="8" selected>@Html.DisplayNameFor(model => model.ProductUnitPrice)</option>

            }
            else
            {
                <option value="8">@Html.DisplayNameFor(model => model.ProductUnitPrice)</option>

            }
            @if ((string)ViewData["searchSelect"] == "9")
            {
                <option value="9" selected>@Html.DisplayNameFor(model => model.ProductRemarks1)</option>

            }
            else
            {
                <option value="9">@Html.DisplayNameFor(model => model.ProductRemarks1)</option>

            }
            @if ((string)ViewData["searchSelect"] == "10")
            {
                <option value="10" selected>@Html.DisplayNameFor(model => model.ProductRemarks2)</option>

            }
            else
            {
                <option value="10">@Html.DisplayNameFor(model => model.ProductRemarks2)</option>

            }
            @if ((string)ViewData["searchSelect"] == "11")
            {
                <option value="11" selected>@Html.DisplayNameFor(model => model.ProductDays)</option>

            }
            else
            {
                <option value="11">@Html.DisplayNameFor(model => model.ProductDays)</option>

            }

            @if ((string)ViewData["searchSelect"] == "12")
            {
                <option value="12" selected>@Html.DisplayNameFor(model => model.ProductCreateDate)</option>
            }
            else
            {
                <option value="12">@Html.DisplayNameFor(model => model.ProductCreateDate)</option>
            }
            @if ((string)ViewData["searchSelect"] == "13")
            {
                <option value="13" selected>@Html.DisplayNameFor(model => model.ProductChangeDate)</option>
            }
            else
            {
                <option value="13">@Html.DisplayNameFor(model => model.ProductChangeDate)</option>
            }
        </select>
    </div>
    <div class=" form-group  m-0 p-0">
        <label for="search" style="width:auto">關鍵字:&ensp;</label>
        <input type="text" name="search" id="searchId" value="@ViewData["search"]">&ensp;
    </div>
    <div class=" form-group  m1-1 p-0 ">
        <label class="m-0 p-0" for="RadioModelId">比對模式:</label>
        <div class="form-control-sm">
            @if (!(bool)ViewData["FuzzyOrNormal"])
            {
                @Html.RadioButton("RadioModelId", "fuzzyMatch", true, new { id = "RadioModelId2", @class = " p-0" })
                @("包含關鍵字")<br>
                @Html.RadioButton("RadioModelId", "keyMatch", false, new { id = "RadioModelId1", @class = "p-0" })
                @("關鍵字相同")<br>
            }
            else
            {
                @Html.RadioButton("RadioModelId", "fuzzyMatch", false, new { id = "RadioModelId2", @class = " p-0" })
                @("包含關鍵字")<br>
                @Html.RadioButton("RadioModelId", "keyMatch", true, new { id = "RadioModelId1", @class = "p-0" })
                @("關鍵字相同")<br>
            }

        </div>
    </div>
    <div class=" form-group  m-0 p-0  m1-2 ">
        <input type="button" value="開始搜尋" onclick="SearchFunc('SalesOrder','@pathName')" />
    </div>
</form>
<hr style="background-color:#808080">
<div class="form-inline">
    <input type="button" class="mb-1 mr-auto" value="檢視所有資料" onclick="location.href='@Url.Action("Index", "SalesOrder",new { FuzzyOrNormal=(bool)ViewData["FuzzyOrNormal"],search = (string)ViewData["search"], searchSelect = (string)ViewData["searchSelect"],page=1})'" />
    <input type="button" class="mb-1" value="新增製成品" onclick="location.href='@Url.Action("Create", "SalesOrder")'" />
</div>

<table class="table tbl-list" style="border:2px  #808080 solid; width:100%" id="tableId" cellpadding="0" cellspacing="0">
    <thead>
        <tr style="background-color: #c7c7c7;">
            <th style="border:1px  #808080 solid;"></th>
            <th style="border:1px  #808080 solid;"></th>
            <th style="border: 1px #808080 solid;cursor: pointer;"
                onclick="sortAble(this,'tableId', 2, 'string')">
                @Html.DisplayNameFor(model => model.MemberEmail)
            </th>
            <th style="border: 1px #808080 solid;cursor: pointer;"
                onclick="sortAble(this,'tableId', 3, 'string')">
                @Html.DisplayNameFor(model => model.MemberName)
            </th>
            <th style="border: 1px #808080 solid;cursor: pointer;"
                onclick="sortAble(this,'tableId', 4, 'string')">
                @Html.DisplayNameFor(model => model.ProductName)
            </th>
            <th style="border: 1px #808080 solid;cursor: pointer;"
                onclick="sortAble(this,'tableId', 5, 'string')">
                @Html.DisplayNameFor(model => model.ProductInfo)
            </th>
            <th style="border: 1px #808080 solid;cursor: pointer;"
                onclick="sortAble(this,'tableId', 6, 'string')">
                @Html.DisplayNameFor(model => model.ProductCharge)
            </th>
            <th style="border: 1px #808080 solid;cursor: pointer;"
                onclick="sortAble(this,'tableId', 7, 'int')">
                @Html.DisplayNameFor(model => model.ProductCounts)
            </th>
            <th style="border: 1px #808080 solid;cursor: pointer;"
                onclick="sortAble(this,'tableId', 8, 'int')">
                @Html.DisplayNameFor(model => model.ProductUnitDays)
            </th>
            <th style="border: 1px #808080 solid;cursor: pointer;"
                onclick="sortAble(this,'tableId', 9, 'int')">
                @Html.DisplayNameFor(model => model.ProductUnitPrice)
            </th>
            <th style="border: 1px #808080 solid;cursor: pointer;"
                onclick="sortAble(this,'tableId', 10, 'string')">
                @Html.DisplayNameFor(model => model.ProductRemarks1)
            </th>
            <th style="border: 1px #808080 solid;cursor: pointer;"
                onclick="sortAble(this,'tableId', 11, 'string')">
                @Html.DisplayNameFor(model => model.ProductRemarks2)
            </th>
            <th style="border: 1px #808080 solid;cursor: pointer;"
                onclick="sortAble(this,'tableId', 12, 'int')">
                @Html.DisplayNameFor(model => model.ProductDays)
            </th>
            <th style="border: 1px #808080 solid;cursor: pointer;"
                onclick="sortAble(this,'tableId', 13, 'date')">
                @Html.DisplayNameFor(model => model.ProductCreateDate)
            </th>
            <th style="border: 1px #808080 solid;cursor: pointer;"
                onclick="sortAble(this,'tableId', 14, 'date')">
                @Html.DisplayNameFor(model => model.ProductChangeDate)
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    <!--@Html.ActionLink("編輯", "Edit", new {  id=item.Id  })    -->
                    <input type="button" value="編輯" onclick="location.href='@Url.Action("Edit", "SalesOrder", new {  id=item.Id  })'" />
                </td>
                <td>
                    <!--@Html.ActionLink("刪除", "Delete", new {  id=item.Id})-->
                    <input type="button" value="刪除" onclick="Delete('@item.ProductName','@Url.Action("Delete", "SalesOrder", new {  id=item.Id  })')" />
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.MemberEmail)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.MemberName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ProductName)
                </td>
                <td>
<textarea style="resize: none;border:0px;" rows="6" cols="6" readonly>
 @Html.DisplayFor(modelItem => item.ProductInfo)
</textarea>
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ProductCharge)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ProductCounts)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ProductUnitDays)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ProductUnitPrice)
                </td>
                <td>
<textarea style="resize: none;border:0px;" rows="6" cols="2" readonly>
@Html.DisplayFor(modelItem => item.ProductRemarks1)
</textarea>

                </td>
                <td>
<textarea style="resize: none;border:0px;" rows="6" cols="2" readonly>
@Html.DisplayFor(modelItem => item.ProductRemarks2)
</textarea>

                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ProductDays)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ProductCreateDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ProductChangeDate)
                </td>
            </tr>
        }
    </tbody>
</table>

<nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center">
        <li class="page-item ">
            @if ((int)ViewData["CountModel"] > 0)
            {
                <button class="page-link" onclick="location.href='@Url.Action("Index", "SalesOrder", new { search = ViewData["search"], searchSelect = ViewData["searchSelect"], page = ViewData["pagePrev"] })'">&lt;</button>
            }
        </li>

        @for (int i = (int)ViewData["listConutStart"]; i <= (int)ViewData["listConutEnd"]; i++)
        {
            if (i == (int)ViewData["page"])
            {
                <li class="page-item">
                    <label class="page-link" style="color:red" onclick="location.href='@Url.Action("Index", "SalesOrder", new { search=ViewData["search"],searchSelect=ViewData["searchSelect"],  page=i })'">&ensp;[@i]&ensp;</label>
                </li>
            }
            else
            {
                <li class="page-item">
                    <label class="page-link" style="color:black" onclick="location.href='@Url.Action("Index", "SalesOrder", new { search=ViewData["search"],searchSelect=ViewData["searchSelect"],  page=i })'">&ensp;[@i]&ensp;</label>
                </li>
            }
        }
        <li class="page-item">
            @if ((int)ViewData["CountModel"] > 0)
            {
                <button class="page-link" onclick="location.href='@Url.Action("Index", "SalesOrder", new {search=ViewData["search"],searchSelect=ViewData["searchSelect"],   page= ViewData["pageNext"] })'">&gt;</button>
            }
        </li>
    </ul>
</nav>




